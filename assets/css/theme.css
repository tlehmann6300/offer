/* IBC Corporate Identity Design System */

:root {
    /* Light Mode Variables - Source of Truth */
    --bg-body: #f9fafb; /* Light Gray */
    --bg-card: #ffffff; /* White */
    --text-main: #111827; /* Almost Black - Important for readability */
    --text-muted: #4b5563; /* Dark Gray */
    --border-color: #e5e7eb;
    
    /* Legacy compatibility variables */
    --bg-color: #f9fafb; /* Light Gray */
    --text-color: #111827; /* Dark Grey/Black */
    --card-bg: #ffffff; /* White */
    
    /* Primary IBC Colors */
    --ibc-green: #00a651;
    --ibc-green-light: #33b872;
    --ibc-green-dark: #008741;
    --ibc-green-hover: #009948;
    
    --ibc-blue: #0066b3;
    --ibc-blue-light: #3385c4;
    --ibc-blue-dark: #004f8c;
    --ibc-blue-hover: #005a9e;
    
    --ibc-accent: #ff6b35;
    --ibc-accent-light: #ff8b5d;
    --ibc-accent-dark: #e55220;
    
    /* Neutral Colors */
    --ibc-gray-50: #f9fafb;
    --ibc-gray-100: #f3f4f6;
    --ibc-gray-200: #e5e7eb;
    --ibc-gray-300: #d1d5db;
    --ibc-gray-400: #9ca3af;
    --ibc-gray-500: #6b7280;
    --ibc-gray-600: #4b5563;
    --ibc-gray-700: #374151;
    --ibc-gray-800: #1f2937;
    --ibc-gray-900: #111827;
    
    /* Semantic Colors */
    --ibc-success: #10b981;
    --ibc-warning: #f59e0b;
    --ibc-error: #ef4444;
    --ibc-info: #3b82f6;
    
    /* Typography */
    --ibc-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    
    /* Shadows */
    --shadow-glow-green: 0 0 20px rgba(0, 166, 81, 0.4), 0 4px 12px rgba(0, 166, 81, 0.3);
    --shadow-premium: 0 20px 40px rgba(0, 0, 0, 0.15), 0 10px 20px rgba(0, 0, 0, 0.1);
    --shadow-soft: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
    
    /* Spacing & Layout */
    --mobile-header-offset: 5rem;
}

/* Dark Mode Variables - Source of Truth */
.dark-mode {
    --bg-body: #0f172a; /* Deep Dark Blue - slate-900 */
    --bg-card: #1e293b; /* Lighter Slate - slate-800 */
    --text-main: #f3f4f6; /* Almost White - Critical */
    --text-muted: #9ca3af; /* Light Gray */
    --border-color: #374151;
    
    /* Legacy compatibility variables */
    --bg-color: #0f172a;
    --text-color: #f3f4f6;
    --card-bg: #1e293b;
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #374151;
    --text-primary: #f3f4f6;
    --text-secondary: #9ca3af;
    
    /* Enhanced Dark Mode Shadows for depth */
    --shadow-premium: 0 20px 40px rgba(0, 0, 0, 0.4), 0 10px 20px rgba(0, 0, 0, 0.3);
    --shadow-soft: 0 4px 6px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Force Overrides - The 'Hammer' to overwrite Tailwind defaults */
body {
    background-color: var(--bg-body);
    color: var(--text-main);
}

.card,
.bg-white {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
}

/* Fix Input Fields in Dark Mode */
.dark-mode input,
.dark-mode select,
.dark-mode textarea {
    background-color: #0c1222 !important; /* Darker than card background for contrast */
    color: #ffffff !important;
    border: 1px solid #334155 !important; /* slate-700 */
}

.dark-mode input::placeholder,
.dark-mode textarea::placeholder {
    color: var(--text-muted);
}

.dark-mode input:disabled,
.dark-mode select:disabled,
.dark-mode textarea:disabled {
    background-color: #1f2937 !important;
    color: #6b7280 !important;
    cursor: not-allowed;
    opacity: 0.5;
}

/* Sidebar - Permanent Corporate Blue (IBC-Blau) for Light and Dark Mode */
.sidebar {
    background-color: var(--ibc-blue) !important;
}

/* Sidebar Text - Always White on Blue Background */
.sidebar a,
.sidebar span,
.sidebar i,
.sidebar label {
    color: rgba(255, 255, 255, 0.95) !important;
}

.sidebar a:hover {
    color: #ffffff !important;
    background-color: rgba(255, 255, 255, 0.1) !important;
    transition: all 0.2s ease;
}

/* Sidebar Active State - White Background with IBC Green Border */
.sidebar a.active,
.sidebar a[class*="bg-white/20"] {
    background-color: rgba(255, 255, 255, 0.2) !important;
    border-right: 4px solid var(--ibc-green) !important;
}

body.dark-mode main {
    background-color: var(--bg-body);
}

body.dark-mode .card {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

/* Table Styles - Light Mode */
table {
    background-color: var(--bg-card);
    color: var(--text-main) !important;
}

th {
    background-color: var(--ibc-gray-100);
    color: var(--text-main);
    font-weight: 600;
}

td {
    color: var(--text-main);
    border-color: var(--ibc-gray-200);
}

/* Table Styles - Dark Mode */
body.dark-mode table {
    background-color: var(--bg-card);
    color: var(--text-main) !important;
}

body.dark-mode th {
    background-color: #374151 !important; /* Slightly gray to differentiate from table content */
    color: #ffffff !important;
    border-color: #4b5563 !important;
    font-weight: 600;
}

body.dark-mode td {
    border-color: var(--border-color);
    color: #f3f4f6 !important;
    border-bottom-color: #374151 !important;
}

/* Input Styles - Light Mode */
input,
select,
textarea {
    background-color: #ffffff; /* white */
    color: var(--text-main);
    border-color: #d1d5db; /* gray-300 */
    transition: border-color 0.2s ease, background-color 0.2s ease;
}

input::placeholder,
textarea::placeholder {
    color: var(--ibc-gray-400);
}

input:disabled,
select:disabled,
textarea:disabled {
    background-color: var(--ibc-gray-100);
    color: var(--ibc-gray-500);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Light Mode - Explicit Text Colors */
body:not(.dark-mode) {
    color: #1f2937 !important;
}

body:not(.dark-mode) .card {
    color: #1f2937 !important;
}

body:not(.dark-mode) h1,
body:not(.dark-mode) h2,
body:not(.dark-mode) h3,
body:not(.dark-mode) h4,
body:not(.dark-mode) h5,
body:not(.dark-mode) h6 {
    color: #1f2937 !important;
}

body:not(.dark-mode) p {
    color: #374151;
}

body:not(.dark-mode) label {
    color: #374151 !important;
}

body.dark-mode .glass-card {
    background: rgba(31, 41, 55, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode a:not(.btn-primary) {
    color: var(--ibc-blue-light);
}

body.dark-mode .text-gray-600 {
    color: #d1d5db !important;
}

body.dark-mode .text-gray-700 {
    color: #e5e7eb !important;
}

body.dark-mode .text-gray-800 {
    color: #f3f4f6 !important;
}

body.dark-mode .text-gray-900 {
    color: #f9fafb !important;
}

body.dark-mode .text-gray-500 {
    color: #9ca3af !important;
}

body:not(.dark-mode) .text-gray-800 {
    color: #1f2937 !important; /* Dark text for light mode */
}

body:not(.dark-mode) .text-gray-700 {
    color: #374151 !important; /* Slightly lighter but still readable */
}

body:not(.dark-mode) .text-gray-600 {
    color: #4b5563 !important; /* Good contrast for body text */
}

body:not(.dark-mode) .text-gray-500 {
    color: #6b7280 !important; /* Muted but readable */
}

body.dark-mode .bg-white {
    background-color: var(--bg-card) !important;
}

body.dark-mode .bg-gray-50 {
    background-color: var(--bg-body) !important;
}

body.dark-mode .bg-gray-100 {
    background-color: #374151 !important;
}

body.dark-mode .border-gray-200 {
    border-color: var(--border-color) !important;
}

body.dark-mode .border-gray-300 {
    border-color: #4b5563 !important;
}

/* Dark mode improvements for specific elements */
body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3, 
body.dark-mode h4, 
body.dark-mode h5, 
body.dark-mode h6 {
    color: #f3f4f6 !important;
}

body.dark-mode p {
    color: #d1d5db;
}

body.dark-mode label {
    color: #e5e7eb !important;
}

body.dark-mode .shadow {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.5), 0 1px 2px 0 rgba(0, 0, 0, 0.3);
}

/* Dark Mode: Colored Backgrounds Adaptation */
body.dark-mode .bg-purple-50 {
    background-color: rgba(147, 51, 234, 0.15) !important; /* purple-900/15 */
}

body.dark-mode .bg-blue-50 {
    background-color: rgba(59, 130, 246, 0.15) !important; /* blue-900/15 */
}

body.dark-mode .bg-green-50 {
    background-color: rgba(34, 197, 94, 0.15) !important; /* green-900/15 */
}

body.dark-mode .bg-orange-50 {
    background-color: rgba(249, 115, 22, 0.15) !important; /* orange-900/15 */
}

body.dark-mode .bg-red-50 {
    background-color: rgba(239, 68, 68, 0.15) !important; /* red-900/15 */
}

body.dark-mode .bg-yellow-50 {
    background-color: rgba(234, 179, 8, 0.15) !important; /* yellow-900/15 */
}

body.dark-mode .bg-teal-50 {
    background-color: rgba(20, 184, 166, 0.15) !important; /* teal-900/15 */
}

body.dark-mode .bg-pink-50 {
    background-color: rgba(236, 72, 153, 0.15) !important; /* pink-900/15 */
}

body.dark-mode .bg-indigo-50 {
    background-color: rgba(99, 102, 241, 0.15) !important; /* indigo-900/15 */
}

/* Dark Mode: Colored Backgrounds (100 level) */
body.dark-mode .bg-purple-100 {
    background-color: rgba(147, 51, 234, 0.25) !important; /* purple-900/25 */
}

body.dark-mode .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.25) !important; /* blue-900/25 */
}

body.dark-mode .bg-green-100 {
    background-color: rgba(34, 197, 94, 0.25) !important; /* green-900/25 */
}

body.dark-mode .bg-orange-100 {
    background-color: rgba(249, 115, 22, 0.25) !important; /* orange-900/25 */
}

body.dark-mode .bg-red-100 {
    background-color: rgba(239, 68, 68, 0.25) !important; /* red-900/25 */
}

body.dark-mode .bg-yellow-100 {
    background-color: rgba(234, 179, 8, 0.25) !important; /* yellow-900/25 */
}

body.dark-mode .bg-teal-100 {
    background-color: rgba(20, 184, 166, 0.25) !important; /* teal-900/25 */
}

/* Dark Mode: Colored Border Adaptation */
body.dark-mode .border-purple-100,
body.dark-mode .border-purple-200 {
    border-color: rgba(147, 51, 234, 0.4) !important; /* purple with opacity */
}

body.dark-mode .border-purple-300,
body.dark-mode .border-purple-400 {
    border-color: rgba(147, 51, 234, 0.6) !important;
}

body.dark-mode .border-blue-100,
body.dark-mode .border-blue-200 {
    border-color: rgba(59, 130, 246, 0.4) !important; /* blue with opacity */
}

body.dark-mode .border-blue-300,
body.dark-mode .border-blue-400 {
    border-color: rgba(59, 130, 246, 0.6) !important;
}

body.dark-mode .border-green-100,
body.dark-mode .border-green-200 {
    border-color: rgba(34, 197, 94, 0.4) !important; /* green with opacity */
}

body.dark-mode .border-green-300,
body.dark-mode .border-green-400 {
    border-color: rgba(34, 197, 94, 0.6) !important;
}

body.dark-mode .border-orange-100,
body.dark-mode .border-orange-200 {
    border-color: rgba(249, 115, 22, 0.4) !important; /* orange with opacity */
}

body.dark-mode .border-orange-300,
body.dark-mode .border-orange-400 {
    border-color: rgba(249, 115, 22, 0.6) !important;
}

body.dark-mode .border-red-100,
body.dark-mode .border-red-200 {
    border-color: rgba(239, 68, 68, 0.4) !important; /* red with opacity */
}

body.dark-mode .border-red-300,
body.dark-mode .border-red-400 {
    border-color: rgba(239, 68, 68, 0.6) !important;
}

body.dark-mode .border-yellow-100,
body.dark-mode .border-yellow-200 {
    border-color: rgba(234, 179, 8, 0.4) !important; /* yellow with opacity */
}

body.dark-mode .border-teal-100,
body.dark-mode .border-teal-200 {
    border-color: rgba(20, 184, 166, 0.4) !important; /* teal with opacity */
}

/* Dark Mode: Colored Text on Colored Backgrounds */
body.dark-mode .text-purple-600,
body.dark-mode .text-purple-700,
body.dark-mode .text-purple-800 {
    color: #e9d5ff !important; /* purple-200 - light purple for dark backgrounds */
}

body.dark-mode .text-blue-600,
body.dark-mode .text-blue-700,
body.dark-mode .text-blue-800 {
    color: #bfdbfe !important; /* blue-200 - light blue for dark backgrounds */
}

body.dark-mode .text-green-600,
body.dark-mode .text-green-700,
body.dark-mode .text-green-800 {
    color: #bbf7d0 !important; /* green-200 - light green for dark backgrounds */
}

body.dark-mode .text-orange-600,
body.dark-mode .text-orange-700,
body.dark-mode .text-orange-800 {
    color: #fed7aa !important; /* orange-200 - light orange for dark backgrounds */
}

body.dark-mode .text-red-600,
body.dark-mode .text-red-700,
body.dark-mode .text-red-800 {
    color: #fecaca !important; /* red-200 - light red for dark backgrounds */
}

body.dark-mode .text-yellow-600,
body.dark-mode .text-yellow-700,
body.dark-mode .text-yellow-800 {
    color: #fef08a !important; /* yellow-200 - light yellow for dark backgrounds */
}

body.dark-mode .text-teal-600,
body.dark-mode .text-teal-700,
body.dark-mode .text-teal-800 {
    color: #99f6e4 !important; /* teal-200 - light teal for dark backgrounds */
}

/* Dark Mode: Gradients Adaptation */
body.dark-mode .bg-gradient-to-br.from-white,
body.dark-mode .bg-gradient-to-r.from-white {
    --tw-gradient-from: var(--bg-card) !important;
}

body.dark-mode .to-purple-50 {
    --tw-gradient-to: rgba(147, 51, 234, 0.15) !important;
}

body.dark-mode .to-blue-50 {
    --tw-gradient-to: rgba(59, 130, 246, 0.15) !important;
}

body.dark-mode .to-green-50 {
    --tw-gradient-to: rgba(34, 197, 94, 0.15) !important;
}

body.dark-mode .to-orange-50 {
    --tw-gradient-to: rgba(249, 115, 22, 0.15) !important;
}

body.dark-mode .to-teal-50 {
    --tw-gradient-to: rgba(20, 184, 166, 0.15) !important;
}

body.dark-mode .from-purple-50 {
    --tw-gradient-from: rgba(147, 51, 234, 0.15) !important;
}

body.dark-mode .from-blue-50 {
    --tw-gradient-from: rgba(59, 130, 246, 0.15) !important;
}

body.dark-mode .from-green-50 {
    --tw-gradient-from: rgba(34, 197, 94, 0.15) !important;
}

body.dark-mode .from-orange-50 {
    --tw-gradient-from: rgba(249, 115, 22, 0.15) !important;
}

body.dark-mode .from-teal-50 {
    --tw-gradient-from: rgba(20, 184, 166, 0.15) !important;
}


/* Shadow Utility Classes */
.shadow-glow-green {
    box-shadow: var(--shadow-glow-green);
}

.shadow-premium {
    box-shadow: var(--shadow-premium);
}

.shadow-soft {
    box-shadow: var(--shadow-soft);
}

/* Transition Utility Classes */
.ease-premium {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
}

/* Glassmorphism Effect */
.glass-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* IBC Color Utilities */
.bg-ibc-green {
    background-color: var(--ibc-green);
}

.bg-ibc-green-hover:hover {
    background-color: var(--ibc-green-hover);
}

.bg-ibc-blue {
    background-color: var(--ibc-blue);
}

.bg-ibc-blue-dark {
    background-color: var(--ibc-blue-dark);
}

.text-ibc-blue {
    color: var(--ibc-blue);
}

.text-ibc-green {
    color: var(--ibc-green);
}

.border-ibc-blue {
    border-color: var(--ibc-blue);
}

.hover\:shadow-glow-green:hover {
    box-shadow: var(--shadow-glow-green);
}

.focus\:ring-ibc-blue:focus {
    --tw-ring-color: var(--ibc-blue);
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}

/* Flatpickr Calendar Overrides - IBC Corporate Identity */
.flatpickr-calendar {
    border-radius: 12px;
    box-shadow: var(--shadow-premium);
    border: 1px solid var(--ibc-gray-200);
    font-family: var(--ibc-font-family);
}

/* Flatpickr Header - IBC Blue */
.flatpickr-months {
    background: var(--ibc-blue);
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
}

.flatpickr-current-month {
    color: white;
}

.flatpickr-month {
    color: white;
    fill: white;
}

.flatpickr-prev-month,
.flatpickr-next-month {
    color: white;
    fill: white;
}

.flatpickr-prev-month:hover,
.flatpickr-next-month:hover {
    color: var(--ibc-gray-200);
}

.flatpickr-prev-month:hover svg,
.flatpickr-next-month:hover svg {
    fill: var(--ibc-gray-200);
}

/* Flatpickr Days */
.flatpickr-weekdays {
    background: var(--ibc-blue-light);
    color: white;
}

.flatpickr-weekday {
    color: white;
    font-weight: 600;
}

/* Flatpickr Selected Day - IBC Green */
.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.selected.prevMonthDay,
.flatpickr-day.selected.nextMonthDay {
    background: var(--ibc-green);
    border-color: var(--ibc-green);
    color: white;
}

.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {
    box-shadow: -10px 0 0 var(--ibc-green);
}

/* Flatpickr Hover State */
.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover {
    background: var(--ibc-green-light);
    border-color: var(--ibc-green-light);
    color: white;
}

.flatpickr-day.today {
    border-color: var(--ibc-blue);
    font-weight: 600;
}

.flatpickr-day.today:hover,
.flatpickr-day.today:focus {
    border-color: var(--ibc-blue);
    background: var(--ibc-blue-light);
    color: white;
}

/* Flatpickr Time Picker */
.flatpickr-time {
    border-top: 1px solid var(--ibc-gray-200);
}

.flatpickr-time input:hover,
.flatpickr-time input:focus {
    background: var(--ibc-gray-50);
    border-color: var(--ibc-green);
}

.flatpickr-time .flatpickr-am-pm:hover,
.flatpickr-time .flatpickr-am-pm:focus {
    background: var(--ibc-green-light);
    color: white;
}

/* Flatpickr Disabled Days */
.flatpickr-day.disabled,
.flatpickr-day.disabled:hover {
    color: var(--ibc-gray-300);
}

/* Flatpickr In Range */
.flatpickr-day.inRange,
.flatpickr-day.prevMonthDay.inRange,
.flatpickr-day.nextMonthDay.inRange,
.flatpickr-day.today.inRange,
.flatpickr-day.prevMonthDay.today.inRange,
.flatpickr-day.nextMonthDay.today.inRange,
.flatpickr-day:hover.inRange,
.flatpickr-day:focus.inRange {
    background: rgba(0, 166, 81, 0.1);
    border-color: transparent;
    box-shadow: -5px 0 0 rgba(0, 166, 81, 0.1), 5px 0 0 rgba(0, 166, 81, 0.1);
}

/* Flatpickr Dark Mode Support */
body.dark-mode .flatpickr-calendar {
    background: var(--bg-card);
    border-color: var(--border-color);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

body.dark-mode .flatpickr-months {
    background: var(--ibc-blue-dark);
}

body.dark-mode .flatpickr-weekdays {
    background: var(--ibc-blue-dark);
}

body.dark-mode .flatpickr-days,
body.dark-mode .flatpickr-day {
    background: var(--bg-card);
    color: var(--text-main);
    border-color: var(--border-color);
}

body.dark-mode .flatpickr-day:hover:not(.selected):not(.startRange):not(.endRange) {
    background: var(--ibc-green-dark);
    border-color: var(--ibc-green-dark);
    color: white;
}

body.dark-mode .flatpickr-day.today {
    border-color: var(--ibc-blue-light);
}

body.dark-mode .flatpickr-day.disabled,
body.dark-mode .flatpickr-day.disabled:hover {
    color: var(--ibc-gray-600);
}

body.dark-mode .flatpickr-time {
    border-top-color: var(--border-color);
}

body.dark-mode .flatpickr-time input {
    background: var(--bg-body);
    color: var(--text-main);
}

body.dark-mode .flatpickr-time input:hover,
body.dark-mode .flatpickr-time input:focus {
    background: var(--bg-card);
    border-color: var(--ibc-green);
}

/* LIGHT MODE: Force dark text for better readability */
body:not(.dark-mode) h1,
body:not(.dark-mode) h2,
body:not(.dark-mode) h3,
body:not(.dark-mode) p,
body:not(.dark-mode) li,
body:not(.dark-mode) span:not(.badge):not(.btn-primary):not(.text-white),
body:not(.dark-mode) label,
body:not(.dark-mode) input,
body:not(.dark-mode) select,
body:not(.dark-mode) textarea,
body:not(.dark-mode) td {
    color: #0f172a !important; /* slate-900 - Almost black for max readability */
}

/* Sidebar Exception: Keep text light in the blue sidebar */
/* Sidebar Icons - Inherit text color */
.sidebar i,
.sidebar i.fas {
    color: inherit !important;
}

/* Light Mode: Kartenhintergrund sicherstellen */
body:not(.dark-mode) .card {
    background-color: #ffffff !important;
    border: 1px solid #e5e7eb !important;
}

/* Dark Mode: Alles erzwingen hell zu sein */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode p,
body.dark-mode li,
body.dark-mode span:not(.badge):not(.text-black),
body.dark-mode label,
body.dark-mode td {
    color: #f1f5f9 !important; /* slate-100 - Almost white for dark mode */
}

/* Dark Mode Inputs fixen */
body.dark-mode input,
body.dark-mode select,
body.dark-mode textarea {
    background-color: #0c1222 !important; /* Darker than card background for contrast */
    color: #ffffff !important;
    border-color: #334155 !important; /* slate-700 */
}

/* Dark Mode Links (außer Buttons und Sidebar) */
body.dark-mode a:not(.btn):not(.btn-primary):not(.nav-link) {
    color: #60a5fa !important; /* Helles Blau für Links */
}

/* Sidebar links override - keep white */
body.dark-mode .sidebar a {
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Dark Mode: Button and Interactive Element Support */
body.dark-mode .hover\:bg-purple-50:hover {
    background-color: rgba(147, 51, 234, 0.15) !important;
}

body.dark-mode .hover\:bg-blue-50:hover {
    background-color: rgba(59, 130, 246, 0.15) !important;
}

body.dark-mode .hover\:bg-green-50:hover {
    background-color: rgba(34, 197, 94, 0.15) !important;
}

body.dark-mode .hover\:bg-red-50:hover {
    background-color: rgba(239, 68, 68, 0.15) !important;
}

body.dark-mode .hover\:bg-gray-50:hover {
    background-color: #374151 !important;
}

body.dark-mode .hover\:bg-gray-100:hover {
    background-color: #4b5563 !important;
}

/* Dark Mode: Focus and Ring Colors */
body.dark-mode .focus\:ring-purple-500:focus {
    --tw-ring-color: rgba(168, 85, 247, 0.5) !important;
}

body.dark-mode .focus\:ring-blue-500:focus {
    --tw-ring-color: rgba(59, 130, 246, 0.5) !important;
}

body.dark-mode .focus\:ring-green-500:focus {
    --tw-ring-color: rgba(34, 197, 94, 0.5) !important;
}

/* Dark Mode: Border on Focus */
body.dark-mode .focus\:border-purple-500:focus {
    border-color: #a855f7 !important;
}

body.dark-mode .focus\:border-blue-500:focus {
    border-color: #3b82f6 !important;
}

body.dark-mode .focus\:border-green-500:focus {
    border-color: #22c55e !important;
}

/* Dark Mode: Hover Border Colors */
body.dark-mode .hover\:border-purple-500:hover {
    border-color: #a855f7 !important;
}

body.dark-mode .hover\:border-blue-500:hover {
    border-color: #3b82f6 !important;
}

body.dark-mode .hover\:border-green-500:hover {
    border-color: #22c55e !important;
}

/* Dark Mode: Hover Text Colors */
body.dark-mode .hover\:text-blue-700:hover {
    color: #93c5fd !important; /* lighter blue for hover in dark mode */
}

body.dark-mode .hover\:text-green-700:hover {
    color: #86efac !important; /* lighter green for hover in dark mode */
}

body.dark-mode .hover\:text-purple-700:hover {
    color: #d8b4fe !important; /* lighter purple for hover in dark mode */
}

body.dark-mode .hover\:text-red-700:hover {
    color: #fca5a5 !important; /* lighter red for hover in dark mode */
}

/* Dark Mode: Badge and Tag Colors */
body.dark-mode .bg-purple-100.text-purple-800 {
    background-color: rgba(147, 51, 234, 0.25) !important;
    color: #e9d5ff !important;
}

body.dark-mode .bg-blue-100.text-blue-800 {
    background-color: rgba(59, 130, 246, 0.25) !important;
    color: #bfdbfe !important;
}

body.dark-mode .bg-green-100.text-green-800 {
    background-color: rgba(34, 197, 94, 0.25) !important;
    color: #bbf7d0 !important;
}

body.dark-mode .bg-orange-100.text-orange-800 {
    background-color: rgba(249, 115, 22, 0.25) !important;
    color: #fed7aa !important;
}

body.dark-mode .bg-red-100.text-red-800 {
    background-color: rgba(239, 68, 68, 0.25) !important;
    color: #fecaca !important;
}

body.dark-mode .bg-yellow-100.text-yellow-800 {
    background-color: rgba(234, 179, 8, 0.25) !important;
    color: #fef08a !important;
}

/* Dark Mode: Alert and Notification Boxes */
body.dark-mode .bg-red-50.text-red-800,
body.dark-mode .bg-red-50.border-red-400 {
    background-color: rgba(239, 68, 68, 0.15) !important;
    color: #fca5a5 !important;
}

body.dark-mode .bg-green-50.text-green-700,
body.dark-mode .bg-green-100.text-green-700 {
    background-color: rgba(34, 197, 94, 0.15) !important;
    color: #86efac !important;
}

body.dark-mode .bg-blue-100.text-blue-700 {
    background-color: rgba(59, 130, 246, 0.15) !important;
    color: #93c5fd !important;
}

/* Dark Mode: Disabled States */
body.dark-mode .bg-gray-300 {
    background-color: #4b5563 !important;
}

body.dark-mode .bg-gray-400 {
    background-color: #6b7280 !important;
}

body.dark-mode .hover\:bg-gray-400:hover {
    background-color: #6b7280 !important;
}

/* Dark Mode: Table Hover States */
body.dark-mode tr:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Dark Mode: Ensure text readability in all scenarios */
body.dark-mode .text-gray-900,
body.dark-mode .text-black {
    color: #f3f4f6 !important;
}

/* Dark Mode: Modal Overlays */
body.dark-mode .bg-black.bg-opacity-50 {
    background-color: rgba(0, 0, 0, 0.75) !important;
}

body.dark-mode .bg-gray-900 {
    background-color: #0f172a !important;
}

/* Dark Mode: Divide Utilities (borders between items) */
body.dark-mode .divide-gray-200 > * + * {
    border-color: var(--border-color) !important;
}

body.dark-mode .divide-gray-300 > * + * {
    border-color: #4b5563 !important;
}

/* Dark Mode: Ring Utilities (focus rings) */
body.dark-mode .ring-gray-300 {
    --tw-ring-color: #4b5563 !important;
}

/* Dark Mode: Placeholder Colors */
body.dark-mode ::placeholder {
    color: #6b7280 !important;
}

body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder,
body.dark-mode select::placeholder {
    color: #6b7280 !important;
}

/* Dark Mode: SVG and Icon Colors */
body.dark-mode svg {
    color: inherit;
}

/* Dark Mode: Ensure proper contrast for all heading levels */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6,
body.dark-mode .h1,
body.dark-mode .h2,
body.dark-mode .h3,
body.dark-mode .h4,
body.dark-mode .h5,
body.dark-mode .h6 {
    color: #f3f4f6 !important;
}

/* Dark Mode: Strong emphasis text */
body.dark-mode strong,
body.dark-mode b {
    color: #f9fafb;
}

/* Dark Mode: Code and Pre elements */
body.dark-mode code {
    background-color: #1f2937;
    color: #e5e7eb;
}

body.dark-mode pre {
    background-color: #1f2937;
    color: #e5e7eb;
    border-color: #374151;
}

/* Dark Mode: Scrollbar Styling */
body.dark-mode ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: #1e293b;
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background: #475569;
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
}

/* Dark Mode: Selection Colors */
body.dark-mode ::selection {
    background-color: rgba(59, 130, 246, 0.3);
    color: #f3f4f6;
}

body.dark-mode ::-moz-selection {
    background-color: rgba(59, 130, 246, 0.3);
    color: #f3f4f6;
}

/* Dark Mode: HR Elements */
body.dark-mode hr {
    border-color: var(--border-color);
}

/* Dark Mode: Blockquote */
body.dark-mode blockquote {
    color: #d1d5db;
    border-left-color: #4b5563;
}

/* Dark Mode: List markers */
body.dark-mode ul,
body.dark-mode ol {
    color: #d1d5db;
}

/* Dark Mode: Form Labels and Legends */
body.dark-mode legend,
body.dark-mode fieldset {
    color: #e5e7eb;
    border-color: var(--border-color);
}

/* Dark Mode: Ensure all form controls have proper contrast */
body.dark-mode input[type="checkbox"],
body.dark-mode input[type="radio"] {
    border-color: #4b5563;
}

body.dark-mode input[type="checkbox"]:checked,
body.dark-mode input[type="radio"]:checked {
    background-color: var(--ibc-green);
    border-color: var(--ibc-green);
}

/* Dark Mode: Select dropdowns arrow */
body.dark-mode select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}

/* Dark Mode: Ensure proper contrast for small text */
body.dark-mode .text-xs,
body.dark-mode .text-sm {
    color: #d1d5db;
}
