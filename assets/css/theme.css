/* IBC Corporate Identity Design System */

:root {
    /* Light Mode Variables - Source of Truth */
    --bg-body: #f9fafb; /* Light Gray */
    --bg-card: #ffffff; /* White */
    --text-main: #111827; /* Almost Black - Important for readability */
    --text-muted: #4b5563; /* Dark Gray */
    --border-color: #e5e7eb;
    
    /* Legacy compatibility variables */
    --bg-color: #f9fafb; /* Light Gray */
    --text-color: #111827; /* Dark Grey/Black */
    --card-bg: #ffffff; /* White */
    
    /* Primary IBC Colors */
    --ibc-green: #00a651;
    --ibc-green-light: #33b872;
    --ibc-green-dark: #008741;
    --ibc-green-hover: #009948;
    
    --ibc-blue: #0066b3;
    --ibc-blue-light: #3385c4;
    --ibc-blue-dark: #004f8c;
    --ibc-blue-hover: #005a9e;
    
    --ibc-accent: #ff6b35;
    --ibc-accent-light: #ff8b5d;
    --ibc-accent-dark: #e55220;
    
    /* Neutral Colors */
    --ibc-gray-50: #f9fafb;
    --ibc-gray-100: #f3f4f6;
    --ibc-gray-200: #e5e7eb;
    --ibc-gray-300: #d1d5db;
    --ibc-gray-400: #9ca3af;
    --ibc-gray-500: #6b7280;
    --ibc-gray-600: #4b5563;
    --ibc-gray-700: #374151;
    --ibc-gray-800: #1f2937;
    --ibc-gray-900: #111827;
    
    /* Semantic Colors */
    --ibc-success: #10b981;
    --ibc-warning: #f59e0b;
    --ibc-error: #ef4444;
    --ibc-info: #3b82f6;
    
    /* Typography */
    --ibc-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    
    /* Shadows */
    --shadow-glow-green: 0 0 20px rgba(0, 166, 81, 0.4), 0 4px 12px rgba(0, 166, 81, 0.3);
    --shadow-premium: 0 20px 40px rgba(0, 0, 0, 0.15), 0 10px 20px rgba(0, 0, 0, 0.1);
    --shadow-soft: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
    
    /* Spacing & Layout */
    --mobile-header-offset: 5rem;
}

/* Dark Mode Variables - Source of Truth */
.dark-mode {
    --bg-body: #111827; /* Very Dark Blue */
    --bg-card: #1f2937; /* Dark Gray-Blue */
    --text-main: #f3f4f6; /* Almost White - Critical */
    --text-muted: #9ca3af; /* Light Gray */
    --border-color: #374151;
    
    /* Legacy compatibility variables */
    --bg-color: #111827;
    --text-color: #f3f4f6;
    --card-bg: #1f2937;
    --bg-primary: #111827;
    --bg-secondary: #1f2937;
    --bg-tertiary: #374151;
    --text-primary: #f3f4f6;
    --text-secondary: #9ca3af;
}

/* Force Overrides - The 'Hammer' to overwrite Tailwind defaults */
body {
    background-color: var(--bg-body);
    color: var(--text-main);
}

.card,
.bg-white {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
}

/* Fix Input Fields in Dark Mode */
.dark-mode input,
.dark-mode select,
.dark-mode textarea {
    background-color: #374151 !important;
    color: #ffffff !important;
    border: 1px solid #4b5563 !important;
}

.dark-mode input::placeholder,
.dark-mode textarea::placeholder {
    color: var(--text-muted);
}

/* Fix Tables */
.dark-mode th {
    background-color: #111827 !important;
    color: #ffffff !important;
}

.dark-mode td {
    color: #e5e7eb !important;
    border-bottom-color: #374151 !important;
}

/* Fix Sidebar Text */
.dark-mode .sidebar a {
    color: var(--text-muted) !important;
}

.dark-mode .sidebar a:hover {
    color: var(--text-main) !important;
    background-color: #374151;
}

body.dark-mode main {
    background-color: var(--bg-body);
}

body.dark-mode .card {
    background-color: var(--bg-card) !important;
    color: var(--text-main) !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

/* Table Styles - Light Mode */
table {
    background-color: var(--bg-card);
    color: var(--text-main) !important;
}

th {
    background-color: var(--ibc-gray-100);
    color: var(--text-main);
    font-weight: 600;
}

td {
    color: var(--text-main);
    border-color: var(--ibc-gray-200);
}

/* Table Styles - Dark Mode */
body.dark-mode table {
    background-color: var(--bg-card);
    color: var(--text-main) !important;
}

body.dark-mode th {
    background-color: #111827 !important;
    color: #ffffff !important;
    font-weight: 600;
}

body.dark-mode td {
    border-color: var(--border-color);
    color: #e5e7eb !important;
}

/* Input Styles - Light Mode */
input,
select,
textarea {
    background-color: var(--bg-card);
    color: var(--text-main);
    border-color: var(--ibc-gray-300);
}

input::placeholder,
textarea::placeholder {
    color: var(--ibc-gray-400);
}

body.dark-mode .glass-card {
    background: rgba(31, 41, 55, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode a:not(.btn-primary) {
    color: var(--ibc-blue-light);
}

body.dark-mode .text-gray-600 {
    color: #d1d5db !important;
}

body.dark-mode .text-gray-700 {
    color: #e5e7eb !important;
}

body.dark-mode .text-gray-800 {
    color: #f3f4f6 !important;
}

body.dark-mode .text-gray-900 {
    color: #f9fafb !important;
}

body.dark-mode .text-gray-500 {
    color: #9ca3af !important;
}

body:not(.dark-mode) .text-gray-800 {
    color: #1f2937 !important; /* Dark text for light mode */
}

body:not(.dark-mode) .text-gray-700 {
    color: #374151 !important; /* Slightly lighter but still readable */
}

body:not(.dark-mode) .text-gray-600 {
    color: #4b5563 !important; /* Good contrast for body text */
}

body:not(.dark-mode) .text-gray-500 {
    color: #6b7280 !important; /* Muted but readable */
}

body.dark-mode .bg-white {
    background-color: var(--bg-card) !important;
}

body.dark-mode .bg-gray-50 {
    background-color: var(--bg-body) !important;
}

body.dark-mode .bg-gray-100 {
    background-color: #374151 !important;
}

body.dark-mode .border-gray-200 {
    border-color: var(--border-color) !important;
}

body.dark-mode .border-gray-300 {
    border-color: #4b5563 !important;
}

/* Dark mode improvements for specific elements */
body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3, 
body.dark-mode h4, 
body.dark-mode h5, 
body.dark-mode h6 {
    color: #f3f4f6 !important;
}

body.dark-mode p {
    color: #d1d5db;
}

body.dark-mode label {
    color: #e5e7eb !important;
}

body.dark-mode .shadow {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.5), 0 1px 2px 0 rgba(0, 0, 0, 0.3);
}


/* Shadow Utility Classes */
.shadow-glow-green {
    box-shadow: var(--shadow-glow-green);
}

.shadow-premium {
    box-shadow: var(--shadow-premium);
}

.shadow-soft {
    box-shadow: var(--shadow-soft);
}

/* Transition Utility Classes */
.ease-premium {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
}

/* Glassmorphism Effect */
.glass-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* IBC Color Utilities */
.bg-ibc-green {
    background-color: var(--ibc-green);
}

.bg-ibc-green-hover:hover {
    background-color: var(--ibc-green-hover);
}

.bg-ibc-blue {
    background-color: var(--ibc-blue);
}

.bg-ibc-blue-dark {
    background-color: var(--ibc-blue-dark);
}

.text-ibc-blue {
    color: var(--ibc-blue);
}

.text-ibc-green {
    color: var(--ibc-green);
}

.border-ibc-blue {
    border-color: var(--ibc-blue);
}

.hover\:shadow-glow-green:hover {
    box-shadow: var(--shadow-glow-green);
}

.focus\:ring-ibc-blue:focus {
    --tw-ring-color: var(--ibc-blue);
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}

/* Flatpickr Calendar Overrides - IBC Corporate Identity */
.flatpickr-calendar {
    border-radius: 12px;
    box-shadow: var(--shadow-premium);
    border: 1px solid var(--ibc-gray-200);
    font-family: var(--ibc-font-family);
}

/* Flatpickr Header - IBC Blue */
.flatpickr-months {
    background: var(--ibc-blue);
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
}

.flatpickr-current-month {
    color: white;
}

.flatpickr-month {
    color: white;
    fill: white;
}

.flatpickr-prev-month,
.flatpickr-next-month {
    color: white;
    fill: white;
}

.flatpickr-prev-month:hover,
.flatpickr-next-month:hover {
    color: var(--ibc-gray-200);
}

.flatpickr-prev-month:hover svg,
.flatpickr-next-month:hover svg {
    fill: var(--ibc-gray-200);
}

/* Flatpickr Days */
.flatpickr-weekdays {
    background: var(--ibc-blue-light);
    color: white;
}

.flatpickr-weekday {
    color: white;
    font-weight: 600;
}

/* Flatpickr Selected Day - IBC Green */
.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.selected.prevMonthDay,
.flatpickr-day.selected.nextMonthDay {
    background: var(--ibc-green);
    border-color: var(--ibc-green);
    color: white;
}

.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {
    box-shadow: -10px 0 0 var(--ibc-green);
}

/* Flatpickr Hover State */
.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover {
    background: var(--ibc-green-light);
    border-color: var(--ibc-green-light);
    color: white;
}

.flatpickr-day.today {
    border-color: var(--ibc-blue);
    font-weight: 600;
}

.flatpickr-day.today:hover,
.flatpickr-day.today:focus {
    border-color: var(--ibc-blue);
    background: var(--ibc-blue-light);
    color: white;
}

/* Flatpickr Time Picker */
.flatpickr-time {
    border-top: 1px solid var(--ibc-gray-200);
}

.flatpickr-time input:hover,
.flatpickr-time input:focus {
    background: var(--ibc-gray-50);
    border-color: var(--ibc-green);
}

.flatpickr-time .flatpickr-am-pm:hover,
.flatpickr-time .flatpickr-am-pm:focus {
    background: var(--ibc-green-light);
    color: white;
}

/* Flatpickr Disabled Days */
.flatpickr-day.disabled,
.flatpickr-day.disabled:hover {
    color: var(--ibc-gray-300);
}

/* Flatpickr In Range */
.flatpickr-day.inRange,
.flatpickr-day.prevMonthDay.inRange,
.flatpickr-day.nextMonthDay.inRange,
.flatpickr-day.today.inRange,
.flatpickr-day.prevMonthDay.today.inRange,
.flatpickr-day.nextMonthDay.today.inRange,
.flatpickr-day:hover.inRange,
.flatpickr-day:focus.inRange {
    background: rgba(0, 166, 81, 0.1);
    border-color: transparent;
    box-shadow: -5px 0 0 rgba(0, 166, 81, 0.1), 5px 0 0 rgba(0, 166, 81, 0.1);
}
